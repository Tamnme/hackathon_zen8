<!-- Generated by SpecStory -->

# Creating a Python Script for Notion Page (2025-04-19 10:31:23)

_**User**_

Create new python file "test.py" to create new page and input data to it. The content showing different content type like header, checkbox, paragraph...

---

_**Assistant**_

I'll create a Python script that demonstrates creating a page in Notion with various content types like headers, checkboxes, and paragraphs.

---

<details>
            <summary>Searched codebase "notion api creating pages python" â€¢ **22** results</summary>
        
| File | Lines |
|------|-------|
| `notion_client_manager.py` | L66-112 |
| `simple_demo.py` | L146-211 |
| `notion_client_manager.py` | L112-160 |
| `notion_client_manager.py` | L160-213 |
| `example.py` | L1-57 |
| `simple_demo.py` | L91-146 |
| `README.md` | L81-117 |
| `simple_demo.py` | L24-66 |
| `notion_client_manager.py` | L43-66 |
| `notion_client_manager.py` | L1-43 |
| `setup.py` | L58-107 |
| `setup.py` | L1-58 |
| `example.py` | L57-63 |
| `simple_demo.py` | L66-91 |
| `README.md` | L1-81 |
| `simple_demo.py` | L1-24 |
| `requirements.txt` | L1-2 |
| `setup.py` | L107-117 |
| `setup.py` | L117-120 |
| `simple_demo.py` | L211-214 |
| `example.py` | L63-66 |
| `.cursorindexingignore` | L1-3 |

</details>

---

```diff
- 
+ import os
+ from dotenv import load_dotenv
+ from notion_client import Client
+ from typing import Dict, Any, List, Optional
+ 
+ class NotionPageCreator:
+     """A class to create Notion pages with different content types."""
+     
+     def __init__(self, api_key: Optional[str] = None):
+         """Initialize with Notion API key."""
+         load_dotenv()
+         self.api_key = api_key or os.getenv("NOTION_API_KEY")
+         if not self.api_key:
+             raise ValueError("Notion API key not found. Please provide it or set NOTION_API_KEY environment variable.")
+         
+         self.notion = Client(auth=self.api_key)
+     
+     def create_page_with_content(self, parent_page_id: str, title: str) -> Dict[str, Any]:
+         """
+         Create a new page with various content types.
+         
+         Args:
+             parent_page_id: The ID of the parent page
+             title: The title of the new page
+             
+         Returns:
+             The created page object
+         """
+         # Create the base page
+         new_page = {
+             "parent": {"page_id": parent_page_id},
+             "properties": {
+                 "title": {
+                     "title": [
+                         {
+                             "text": {
+                                 "content": title
+                             }
+                         }
+                     ]
+                 }
+             },
+             # Define children blocks with different content types
+             "children": [
+                 # Heading 1
+                 {
+                     "object": "block",
+                     "type": "heading_1",
+                     "heading_1": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "Heading 1 Example"
+                                 }
+                             }
+                         ]
+                     }
+                 },
+                 # Paragraph
+                 {
+                     "object": "block",
+                     "type": "paragraph",
+                     "paragraph": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "This is a paragraph with "
+                                 }
+                             },
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "bold"
+                                 },
+                                 "annotations": {
+                                     "bold": True
+                                 }
+                             },
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": " and "
+                                 }
+                             },
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "italic"
+                                 },
+                                 "annotations": {
+                                     "italic": True
+                                 }
+                             },
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": " text."
+                                 }
+                             }
+                         ]
+                     }
+                 },
+                 # Heading 2
+                 {
+                     "object": "block",
+                     "type": "heading_2",
+                     "heading_2": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "Heading 2 Example"
+                                 }
+                             }
+                         ]
+                     }
+                 },
+                 # Bullet list
+                 {
+                     "object": "block",
+                     "type": "bulleted_list_item",
+                     "bulleted_list_item": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "Bullet point 1"
+                                 }
+                             }
+                         ]
+                     }
+                 },
+                 {
+                     "object": "block",
+                     "type": "bulleted_list_item",
+                     "bulleted_list_item": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "Bullet point 2"
+                                 }
+                             }
+                         ]
+                     }
+                 },
+                 # Numbered list
+                 {
+                     "object": "block",
+                     "type": "numbered_list_item",
+                     "numbered_list_item": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "Numbered item 1"
+                                 }
+                             }
+                         ]
+                     }
+                 },
+                 {
+                     "object": "block",
+                     "type": "numbered_list_item",
+                     "numbered_list_item": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "Numbered item 2"
+                                 }
+                             }
+                         ]
+                     }
+                 },
+                 # To-do (checkbox) list
+                 {
+                     "object": "block",
+                     "type": "to_do",
+                     "to_do": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "Task to complete"
+                                 }
+                             }
+                         ],
+                         "checked": False
+                     }
+                 },
+                 {
+                     "object": "block",
+                     "type": "to_do",
+                     "to_do": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "Completed task"
+                                 }
+                             }
+                         ],
+                         "checked": True
+                     }
+                 },
+                 # Quote
+                 {
+                     "object": "block",
+                     "type": "quote",
+                     "quote": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "This is a quote block to showcase important text."
+                                 }
+                             }
+                         ]
+                     }
+                 },
+                 # Code block
+                 {
+                     "object": "block",
+                     "type": "code",
+                     "code": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "def hello_world():\n    print('Hello, Notion!')"
+                                 }
+                             }
+                         ],
+                         "language": "python"
+                     }
+                 },
+                 # Divider
+                 {
+                     "object": "block",
+                     "type": "divider",
+                     "divider": {}
+                 },
+                 # Callout
+                 {
+                     "object": "block",
+                     "type": "callout",
+                     "callout": {
+                         "rich_text": [
+                             {
+                                 "type": "text",
+                                 "text": {
+                                     "content": "This is a callout block with an emoji."
+                                 }
+                             }
+                         ],
+                         "icon": {
+                             "type": "emoji",
+                             "emoji": "ðŸ’¡"
+                         }
+                     }
+                 }
+             ]
+         }
+         
+         # Create the page with the Notion API
+         return self.notion.pages.create(**new_page)
+ 
+ 
+ def main():
+     """Main function to demonstrate creating a Notion page with various content types."""
+     try:
+         # Get parent page ID from environment variable or input
+         parent_page_id = os.getenv("NOTION_PARENT_PAGE_ID")
+         if not parent_page_id:
+             parent_page_id = input("Enter the parent page ID: ")
+         
+         # Initialize the NotionPageCreator
+         creator = NotionPageCreator()
+         
+         # Create a new page with various content types
+         title = "Demo Page with Various Content Types"
+         print(f"Creating a new page titled: {title}")
+         
+         new_page = creator.create_page_with_content(parent_page_id, title)
+         
+         print(f"New page created with ID: {new_page['id']}")
+         print(f"Page URL: https://notion.so/{new_page['id'].replace('-', '')}")
+         print("\nPage created successfully with various content types!")
+         
+     except Exception as e:
+         print(f"Error: {e}")
+         if "Make sure the relevant pages and databases are shared with your integration" in str(e):
+             print("\nTIP: Make sure you've shared the parent page with your integration:")
+             print("1. Go to the Notion parent page")
+             print("2. Click the '...' menu in the top-right corner")
+             print("3. Click 'Add connections'")
+             print("4. Find and select your integration")
+ 
+ 
+ if __name__ == "__main__":
+     main() 
```

---

I've created a Python script called `test.py` that demonstrates how to create a Notion page with various content types. The script:

1. Creates a Notion page with a custom title
2. Adds multiple block types including:
   - Headings (level 1 and 2)
   - Paragraphs with formatted text (bold and italic)
   - Bulleted lists
   - Numbered lists
   - Checkboxes (to-do items)
   - Quotes
   - Code blocks with syntax highlighting
   - Dividers
   - Callouts with emoji icons

To run this script, you'll need:
1. A Notion API key (set as NOTION_API_KEY in your environment)
2. A parent page ID where the new page will be created (NOTION_PARENT_PAGE_ID)
3. The `python-dotenv` and `notion-client` packages installed

The script will detect if your parent page hasn't been shared with your integration and provide helpful instructions if that's the case.

---



---

